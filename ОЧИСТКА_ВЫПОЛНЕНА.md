# ‚úÖ –û—á–∏—Å—Ç–∫–∞ Production –ø—Ä–æ–µ–∫—Ç–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∞

## üóëÔ∏è –ß—Ç–æ –±—ã–ª–æ —É–¥–∞–ª–µ–Ω–æ

### –ò–∑ –∫–æ—Ä–Ω—è –ø—Ä–æ–µ–∫—Ç–∞:
- ‚ùå `.github/` - GitHub Actions –∏ workflows
- ‚ùå `.devcontainer/`, `.cursor/`, `.claude/` - IDE –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
- ‚ùå `tests/` - —Ç–µ—Å—Ç–æ–≤—ã–µ —Ñ–∞–π–ª—ã
- ‚ùå `docs/`, `scripts/`, `cypress-base/` - –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∏ —Å–∫—Ä–∏–ø—Ç—ã —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
- ‚ùå `helm/superset/` - Helm charts (–∏—Å–ø–æ–ª—å–∑—É–µ–º —Å–≤–æ–∏ K8s –º–∞–Ω–∏—Ñ–µ—Å—Ç—ã)
- ‚ùå `CHANGELOG/`, `ASF/`, `RELEASING/`, `RESOURCES/` - –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞
- ‚ùå `superset/examples/` - –ø—Ä–∏–º–µ—Ä—ã –¥–∞–Ω–Ω—ã—Ö
- ‚ùå `superset-websocket/`, `superset-embedded-sdk/`, `superset-extensions-cli/` - –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –º–æ–¥—É–ª–∏
- ‚ùå `docker-prod;C/` - –¥—É–±–ª–∏–∫–∞—Ç –ø–∞–ø–∫–∏
- ‚ùå Dev –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏: `.pre-commit-config.yaml`, `.pylintrc`, `.codecov.yml`, –∏ –¥—Ä.
- ‚ùå Dev Docker —Ñ–∞–π–ª—ã: `Dockerfile`, `docker-compose*.yml` (–∫—Ä–æ–º–µ production)
- ‚ùå –í—Ä–µ–º–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã: `nul`, `GEMINI.md`, `GPT.md`
- ‚ùå Dev –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è: `INSTALL.md`, `UPDATING.md`, `CONTRIBUTING.md`, –∏ –¥—Ä.

### –ò–∑ docker-prod/:
- ‚ùå `build.log` - –≤—Ä–µ–º–µ–Ω–Ω—ã–π –ª–æ–≥ —Å–±–æ—Ä–∫–∏
- ‚ùå `current_logo_check.png` - –≤—Ä–µ–º–µ–Ω–Ω—ã–π —Ñ–∞–π–ª
- ‚ùå `custom.css` - —Å—Ç–∞—Ä—ã–π CSS —Ñ–∞–π–ª
- ‚ùå `superset-logo-horiz.png` - –¥—É–±–ª–∏–∫–∞—Ç –ª–æ–≥–æ—Ç–∏–ø–∞
- ‚ùå `geo2topo.js` - —É—Ç–∏–ª–∏—Ç–∞ –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏
- ‚ùå `geojson/` - –ø–∞–ø–∫–∞ —Å GeoJSON —Ñ–∞–π–ª–∞–º–∏ (–∫–∞—Ä—Ç—ã —Ç–µ–ø–µ—Ä—å –≤ Country Map –ø–ª–∞–≥–∏–Ω–µ)
- ‚ùå `geojson;C/` - –¥—É–±–ª–∏–∫–∞—Ç –ø–∞–ø–∫–∏
- ‚ùå `init-db/` - —Å–∫—Ä–∏–ø—Ç—ã –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –ë–î
- ‚ùå `README.md` - —Å—Ç–∞—Ä—ã–π README

### –ò–∑ superset-frontend/:
- ‚ùå `node_modules/` - –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (–±—É–¥—É—Ç —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –ø—Ä–∏ —Å–±–æ—Ä–∫–µ)
- ‚ùå `.cache/` - –∫—ç—à webpack

## ‚úÖ –ß—Ç–æ –æ—Å—Ç–∞–ª–æ—Å—å (—Ç–æ–ª—å–∫–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ–µ)

### –ö–æ—Ä–µ–Ω—å –ø—Ä–æ–µ–∫—Ç–∞:
```
iss_superset/
‚îú‚îÄ‚îÄ LICENSE.txt              # –õ–∏—Ü–µ–Ω–∑–∏—è Apache
‚îú‚îÄ‚îÄ MANIFEST.in              # –ú–∞–Ω–∏—Ñ–µ—Å—Ç –¥–ª—è Python –ø–∞–∫–µ—Ç–∞
‚îú‚îÄ‚îÄ NOTICE                   # –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ Apache
‚îú‚îÄ‚îÄ pyproject.toml           # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Python –ø—Ä–æ–µ–∫—Ç–∞
‚îú‚îÄ‚îÄ README.md                # –û—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–π README Superset
‚îú‚îÄ‚îÄ README_PROD.md           # üìñ –ì–õ–ê–í–ù–ê–Ø –ò–ù–°–¢–†–£–ö–¶–ò–Ø –¥–ª—è DevOps
‚îú‚îÄ‚îÄ –ü–ï–†–ï–î–ê–¢–¨_DEVOPS.txt      # –°–ø–∏—Å–æ–∫ —Ñ–∞–π–ª–æ–≤ –¥–ª—è –ø–µ—Ä–µ–¥–∞—á–∏
‚îú‚îÄ‚îÄ CLEANUP_ALL.sh           # –°–∫—Ä–∏–ø—Ç –æ—á–∏—Å—Ç–∫–∏ (–¥–ª—è –ø–æ–≤—Ç–æ—Ä–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è)
‚îú‚îÄ‚îÄ requirements/            # Python –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îú‚îÄ‚îÄ superset/                # Backend –∫–æ–¥ (Python)
‚îú‚îÄ‚îÄ superset-core/           # Core –º–æ–¥—É–ª–∏
‚îú‚îÄ‚îÄ superset-frontend/       # Frontend –∫–æ–¥ (React/TypeScript)
‚îî‚îÄ‚îÄ docker-prod/             # üéØ PRODUCTION –ö–û–ù–§–ò–ì–£–†–ê–¶–ò–Ø
```

### docker-prod/ (–≤—Å—ë –¥–ª—è production):
```
docker-prod/
‚îú‚îÄ‚îÄ .env.prod.example        # –ü—Ä–∏–º–µ—Ä –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è (–°–û–ó–î–ê–ô–¢–ï .env.prod!)
‚îú‚îÄ‚îÄ custom_logo.png          # –ö–∞—Å—Ç–æ–º–Ω—ã–π –ª–æ–≥–æ—Ç–∏–ø (80px)
‚îú‚îÄ‚îÄ Dockerfile.prod          # Production Dockerfile
‚îú‚îÄ‚îÄ docker-compose.prod.yml  # Docker Compose –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îú‚îÄ‚îÄ deploy.sh                # üöÄ –°–∫—Ä–∏–ø—Ç –±—ã—Å—Ç—Ä–æ–≥–æ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è
‚îú‚îÄ‚îÄ DEPLOY.md                # –ü–æ–¥—Ä–æ–±–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è
‚îú‚îÄ‚îÄ README_KUBERNETES.md     # –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –¥–ª—è Kubernetes
‚îú‚îÄ‚îÄ k8s/                     # Kubernetes –º–∞–Ω–∏—Ñ–µ—Å—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ namespace.yaml
‚îÇ   ‚îú‚îÄ‚îÄ configmap.yaml
‚îÇ   ‚îî‚îÄ‚îÄ postgres.yaml
‚îî‚îÄ‚îÄ pythonpath_prod/         # Production –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Python
    ‚îî‚îÄ‚îÄ superset_config.py
```

## üéØ –ß—Ç–æ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ –≤ Production

### ‚úÖ –ö–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏—è:
- –õ–æ–≥–æ—Ç–∏–ø 80px –≤ –Ω–∞–≤–±–∞—Ä–µ
- –†—É—Å—Å–∫–∏–π + –ê–Ω–≥–ª–∏–π—Å–∫–∏–π —è–∑—ã–∫–∏
- –ö–∞—Ä—Ç–∞ Kazakhstan (–≤ Country Map –ø–ª–∞–≥–∏–Ω–µ)
- ClickHouse –¥—Ä–∞–π–≤–µ—Ä (clickhouse-connect)
- CSV/Excel upload (–Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ, –Ω–æ —Ç—Ä–µ–±—É–µ—Ç —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è)

### ‚úÖ –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å:
- `.env.prod` —Ç–µ–ø–µ—Ä—å `.env.prod.example` (–Ω–µ —Å–æ–¥–µ—Ä–∂–∏—Ç —Ä–µ–∞–ª—å–Ω—ã—Ö –ø–∞—Ä–æ–ª–µ–π)
- –°–∫—Ä–∏–ø—Ç `deploy.sh` –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –Ω–∞–ª–∏—á–∏–µ `.env.prod` –∏ –ø–æ–¥—Å–∫–∞–∑—ã–≤–∞–µ—Ç —á—Ç–æ –∏–∑–º–µ–Ω–∏—Ç—å

### ‚úÖ –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è:
- Minified frontend assets
- Python bytecode compilation
- Production –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ (–±–µ–∑ debug)

## üì¶ –†–∞–∑–º–µ—Ä –ø—Ä–æ–µ–∫—Ç–∞

### –î–æ –æ—á–∏—Å—Ç–∫–∏:
- ~2.5 GB (—Å node_modules, tests, docs, examples)

### –ü–æ—Å–ª–µ –æ—á–∏—Å—Ç–∫–∏:
- **docker-prod/**: ~3 MB (—Ç–æ–ª—å–∫–æ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è)
- **superset/**: ~300 MB (backend –∫–æ–¥)
- **superset-frontend/**: ~1.6 GB (frontend –∏—Å—Ö–æ–¥–Ω–∏–∫–∏, –±–µ–∑ node_modules)
- **requirements/**: ~58 KB (–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏)

## üöÄ –ß—Ç–æ –¥–µ–ª–∞—Ç—å –¥–∞–ª—å—à–µ

1. **–ü—Ä–æ—á–∏—Ç–∞–π—Ç–µ**: [README_PROD.md](README_PROD.md)
2. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ**: `cd docker-prod && cp .env.prod.example .env.prod`
3. **–ò–∑–º–µ–Ω–∏—Ç–µ** –≤ `.env.prod`:
   - `SUPERSET_SECRET_KEY` (—Å–≥–µ–Ω–µ—Ä–∏—Ä—É–π—Ç–µ: `openssl rand -base64 42`)
   - `DATABASE_PASSWORD`
   - `POSTGRES_PASSWORD`
4. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ**: `./deploy.sh`

## üìã –î–ª—è DevOps

–ü–µ—Ä–µ–¥–∞–π—Ç–µ –≤—Å—é –ø–∞–ø–∫—É `iss_superset/` –≤–º–µ—Å—Ç–µ —Å —Ñ–∞–π–ª–æ–º [–ü–ï–†–ï–î–ê–¢–¨_DEVOPS.txt](–ü–ï–†–ï–î–ê–¢–¨_DEVOPS.txt)

DevOps —É–≤–∏–¥–∏—Ç [README_PROD.md](README_PROD.md) –∏ —Å–º–æ–∂–µ—Ç —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç—å –ø—Ä–æ–µ–∫—Ç –∑–∞ 2 –∫–æ–º–∞–Ω–¥—ã:
```bash
cd docker-prod
./deploy.sh
```

---

**–ü—Ä–æ–µ–∫—Ç –≥–æ—Ç–æ–≤ –∫ production! üéâ**
