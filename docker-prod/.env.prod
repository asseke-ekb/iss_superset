#
# Production Environment Configuration for Apache Superset
# IMPORTANT: Change all passwords and secrets before deploying!
#

# ============================================================
# GENERAL SETTINGS
# ============================================================
COMPOSE_PROJECT_NAME=superset
SUPERSET_ENV=production
SUPERSET_PORT=8088

# ============================================================
# SECURITY - CHANGE THESE IN PRODUCTION!
# ============================================================
# Generate with: openssl rand -base64 42
SUPERSET_SECRET_KEY=Tjz5v3D9Xh5nFTEH+qeiquSnyTsLIit0iP535tnXqoC87OAK6CfmoBmC

# ============================================================
# DATABASE CONFIGURATION
# ============================================================
DATABASE_DIALECT=postgresql
DATABASE_HOST=db
DATABASE_PORT=5432
DATABASE_DB=superset
DATABASE_USER=superset
DATABASE_PASSWORD=CHANGE_ME_superset_password

# PostgreSQL container settings
POSTGRES_DB=superset
POSTGRES_USER=superset
POSTGRES_PASSWORD=CHANGE_ME_superset_password

# ============================================================
# REDIS CONFIGURATION
# ============================================================
REDIS_HOST=redis
REDIS_PORT=6379

# ============================================================
# APPLICATION SETTINGS
# ============================================================
PYTHONPATH=/app/pythonpath
PYTHONUNBUFFERED=1

# Flask settings
FLASK_DEBUG=false
FLASK_APP=superset.app:create_app()

# Logging
SUPERSET_LOG_LEVEL=INFO

# Load example data (set to 'no' in production)
SUPERSET_LOAD_EXAMPLES=no

# ============================================================
# CELERY SETTINGS
# ============================================================
CELERY_BROKER_URL=redis://redis:6379/0
CELERY_RESULT_BACKEND=redis://redis:6379/0

# ============================================================
# OPTIONAL: BROWSER AUTOMATION (for reports/alerts)
# ============================================================
ENABLE_PLAYWRIGHT=false
PUPPETEER_SKIP_CHROMIUM_DOWNLOAD=true
